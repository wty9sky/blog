---
import ServicesCards from "@components/labs/ServicesCards.astro";
import Page from "@layouts/Page.astro";
import services_yml from "@configs/services.yml";

let running = 0,
  stopped = 0,
  error = 0;

services_yml.groups.map((group) => {
  group.services.map((service) => {
    switch (service.status) {
      case "running":
        running++;
        break;
      case "stopped":
        stopped++;
        break;
      case "error":
        error++;
        break;
      default:
        running++;
        break;
    }
  });
});
---

<Page
  title="实验室"
  heading="生命不息，折腾不止。"
  caption="托管的开源服务（包含自研项目）。"
>

<div class="page__section mt-[30px]">
  <div class="card card--in-content">
    <p>
      🗃️ 「自托管」：将开源的服务部署在自己的服务器上，能够获得对数据完全的掌控，并能基于现有项目二次开发，让应用呈现出我们想要的样子。虽然需要自己负责运维，但容器化技术的出现大大简化了运维过程。
    </p>
  </div>
</div>
  <section class="page__section page__section--wide">
    <ServicesCards groups={services_yml.groups} />
  </section>
</Page>
