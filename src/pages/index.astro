---
import Layout from "@layouts/Layout.astro";
import Menu from "@components/menu/Menu.astro";
import Bento from "@components/bento/Bento.astro";
import IndexProjectCards from "@components/projects/IndexProjectsCards.astro";
import menu_yml from "@configs/menu.yml";
import Navbar from "@components/Navbar.astro";
import apis from "@scripts/apis";

const projects  = await apis.getIndexProjects();
console.log(projects)
---

<Layout title="9Sky ä¹å¤©" includeHeader={false} description="" keywords={[]}>
  <main class="page">
    <section class="page__section cover">
      <h1 class="cover__heading">
        <span>âœ¨ Always <br /> On the Road.</span>
      </h1>
      <h4 class="cover__subheading">ä¸€ç›´åœ¨è·¯ä¸Šã€‚</h4>
      <div class="cover__nav">
        <span class="mr-2">Wty9ksy</span>
        <Menu includeHome={false} items={menu_yml.items} />
      </div>
      <!-- <p id="scroll-hint" class="cover__hint invisible">
        <i class="ri-scroll-to-bottom-line"></i>
        æ»šåŠ¨æ»šè½®æˆ–æ»‘åŠ¨è§¦æ§æ¿ç»§ç»­æµè§ˆ
      </p> -->
      <script is:inline>
        var hintTimer = null;
        document.addEventListener(
          "astro:page-load",
          () => {
            hintTimer = setTimeout(() => {
              const scrollHintEle = document.querySelector("#scroll-hint");
              if (scrollHintEle) {
                // è¿™é‡Œçš„å†™æ³•ä¸å¤ªå¥½
                scrollHintEle.classList.remove("invisible");
                scrollHintEle.classList.add("cover__hint--fade-in");
              }
            }, 5000);
          },
          { once: false },
        );
        document.addEventListener(
          "astro:before-swap",
          () => {
            clearTimeout(hintTimer);
            hintTimer = null;
          },
          { once: false },
        );
      </script>
    </section>

    <Navbar pathItems={[]} menuItems={menu_yml.items} hidden={true} />

    <hr class="page__divide page__divide--between-sections" />

    <section
      class="page__section page__section--with-padding page__section--width-unlimited"
    >
      <h2 class="text-center">ä½ å¥½ ğŸ‘‹ æˆ‘æ˜¯ 9Sky ä¹å¤©ã€‚</h2>
      <Bento />
    </section>

    <hr class="page__divide page__divide--between-sections" />

    <section
      class="page__section page__section--with-padding page__section--wide"
    >
      <h4 class="text-secondary text-center">
        <i class="ri-code-s-slash-line"></i> æˆ‘çš„é¡¹ç›®é›†
      </h4>
      <h1 class="leading-normal text-center">
        è®¾è®¡ä¸å¼€å‘<br />
      </h1>
      <div class="mt-8">
        <IndexProjectCards projects={projects.list} />
      </div>
    </section>

    <hr class="page__divide page__divide--between-sections" />

    <section class="page__section page__section--after-something">
      <h2>å…³äºæœ¬ç«™</h2>
      <div class="mt-8 content">
        <p>
          è¯¥ç½‘ç«™æ˜¯2024å¹´ç‰ˆæœ¬çš„ã€Œ9Sky ä¹å¤©ã€ä¸ªäººç«™ã€‚
          ä»2022å¹´èµ·ï¼Œæ¯å¹´éƒ½ä¼šç”¨æ–°çš„æŠ€æœ¯å’Œå·¥å…·é‡æ–°è®¾è®¡æˆ‘çš„ç½‘ç«™ã€‚<br>
          æœ¬ç‰ˆæœ¬ç”± Astroã€TypeScriptã€TailwindCss ç­‰æŠ€æœ¯é©±åŠ¨ï¼Œåç«¯ä½¿ç”¨NestJSé©±åŠ¨ã€‚
        </p>
      </div>
    </section>
  </main>
</Layout>

<style lang="scss">
  #scroll-hint {
    @apply hidden;
    @screen md {
      @apply block;
    }
  }

  #too-small-hint {
    @media (min-width: 375px) {
      @apply hidden;
    }
  }
</style>
